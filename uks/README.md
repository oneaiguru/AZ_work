# –£–ö–° –ò—Ä–∫—É—Ç—Å–∫ ‚Äî Next.js + Strapi

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –¥–ª—è —Å–∞–π—Ç–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–ø–∏—Ç–∞–ª—å–Ω–æ–≥–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –≥. –ò—Ä–∫—É—Ç—Å–∫–∞. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤–∫–ª—é—á–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ Next.js 14 –∏ CMS –Ω–∞ Strapi 5, —É–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–µ –≤ Docker Compose –≤–º–µ—Å—Ç–µ —Å PostgreSQL, Redis, MinIO –∏ Nginx.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
uks/
‚îú‚îÄ‚îÄ frontend/        # Next.js 14 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (App Router, TypeScript)
‚îú‚îÄ‚îÄ cms/             # Strapi 5 (TypeScript) —Å –º–æ–¥–µ–ª—è–º–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ ops/nginx/       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md
```

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 20+ –∏ npm 10+ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)
- Docker Engine 24+ –∏ Docker Compose Plugin 2.24+
- –£—Ç–∏–ª–∏—Ç–∞ `mkcert` (–ø–æ –∂–µ–ª–∞–Ω–∏—é) –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ TLS

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏:
   ```bash
   node scripts/generate-env.js
   ```
   –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å —Ñ–ª–∞–≥–æ–º `--force` –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `.env`.
2. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è `NGINX_HOST`, –ø—É–±–ª–∏—á–Ω—ã–µ URL –∏ —Å–µ—Ç–µ–≤—ã–µ –ø–æ—Ä—Ç—ã.

## –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–µ–∑ Docker

### Frontend
```bash
cd uks/frontend
npm install
npm run dev
```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É <http://localhost:3000>. –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ Strapi —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `NEXT_PUBLIC_CMS_URL` –≤ `.env.local`.

### Strapi CMS
```bash
cd uks/cms
npm install
npm run develop
```
–ê–¥–º–∏–Ω–∫–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ <http://localhost:1337/admin>. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –ö–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ —Ñ–∞–π–ª–æ–≤ –≤ `src/api`.

### –ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Strapi

> –ï—Å–ª–∏ –≤—ã –∏—â–µ—Ç–µ –∫—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç: **–ø–æ–¥–Ω–∏–º–∏—Ç–µ Strapi –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ <http://localhost:1337/admin> –≤ –±—Ä–∞—É–∑–µ—Ä–µ.** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ ‚Äî —É–∫–∞–∂–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å, –ø–æ—Å–ª–µ —á–µ–≥–æ –≤—ã –ø–æ–ø–∞–¥—ë—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

–ù–∏–∂–µ ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ Docker Compose.

#### –í–∞—Ä–∏–∞–Ω—Ç A. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker
1. **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `uks/.env` –∑–∞–¥–∞–Ω–æ `CMS_PORT=1337` (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é). –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –µ—â—ë –Ω–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `node scripts/generate-env.js` –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ –ø–æ—Ä—Ç.
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Strapi –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.**
   ```bash
   cd uks/cms
   npm install
   npm run develop
   ```
   –ü–æ—Å–ª–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ Strapi –≤—ã–≤–µ–¥–µ—Ç URL –≤–∏–¥–∞ `http://localhost:1337/admin`.
3. **–ó–∞–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É.** –û—Ç–∫—Ä–æ–π—Ç–µ —É–∫–∞–∑–∞–Ω–Ω—ã–π URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ù–∞ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –≤–∞–º –ø—Ä–µ–¥–ª–æ–∂–∞—Ç —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (email, –∏–º—è, –ø–∞—Ä–æ–ª—å). –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ ‚Äî –æ–Ω–∏ –Ω—É–∂–Ω—ã –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –≤—Ö–æ–¥–æ–≤.

#### –í–∞—Ä–∏–∞–Ω—Ç B. Docker Compose
1. **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.**
   ```bash
   cd uks
   docker compose up --build
   ```
   –ü–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ —Å–µ—Ä–≤–∏—Å `cms` –Ω–∞–ø–µ—á–∞—Ç–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ `Project information` –∏ –∞–¥—Ä–µ—Å `/admin`.
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä.** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –¥–≤—É–º –∞–¥—Ä–µ—Å–∞–º:
   - –Ω–∞–ø—Ä—è–º—É—é: <http://localhost:1337/admin> (–ø–æ—Ä—Ç `CMS_PORT`),
   - —á–µ—Ä–µ–∑ Nginx-–ø—Ä–æ–∫—Å–∏: <http://localhost:8080/admin> (–∑–Ω–∞—á–µ–Ω–∏–µ `NGINX_HOST` –∏ `NGINX_PORT`).
3. **–°–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å.** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É, Strapi –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –µ—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â—ë –ø—É—Å—Ç–∞.

#### –¢–∏–ø–æ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É.** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç –Ω–µ –∑–∞–Ω—è—Ç (`lsof -i :1337`) –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `CMS_HOST`/`CMS_PORT` —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å —Ç–µ–º, —á—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–æ –≤ `.env`.
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä `cms` –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è.** –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `docker compose logs -f cms`. –ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã ‚Äî –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL –∏–ª–∏ MinIO.
- **Nginx –æ—Ç–¥–∞—ë—Ç 502.** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å `cms` —Å—Ç–∞—Ä—Ç–æ–≤–∞–ª —Ä–∞–Ω—å—à–µ reverse-proxy, –ª–∏–±–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx: `docker compose restart nginx`.

> üí° –î–ª—è —É–¥–æ–±–Ω–æ–≥–æ –¥–æ–º–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `/etc/hosts` –∑–∞–ø–∏—Å—å –≤–∏–¥–∞ `127.0.0.1 cms.local` –∏ –ø—Ä–æ–ø–∏—à–∏—Ç–µ `CMS_PUBLIC_URL=https://cms.local:1337` (–¥–ª—è HTTPS ‚Äî —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å `mkcert`).

## –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
cd uks
docker compose up --build
```

–°–µ—Ä–≤–∏—Å—ã:
- Next.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Äî <http://localhost:3000>
- Strapi API/Admin ‚Äî <http://localhost:1337>
- Nginx-—à–ª—é–∑ (–µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞) ‚Äî <http://localhost:8080>
- MinIO ‚Äî <http://localhost:9001> (–ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –≤ `.env`)
- Redis ‚Äî <http://localhost:6379> (–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ)

### –î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω Redis

Redis –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ Strapi –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ
—Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã —á–∏—Ç–∞—Ç—å –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ. –í —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–Ω –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è:

- **–°–µ—Å—Å–∏–π –∏ –∫–µ—à–∞ Strapi.** –ü–æ–¥–∫–ª—é—á–∏–≤ `strapi::session` –∫ Redis, –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–π –∏–∑
  —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –∏–∑–±–µ–∂–∞—Ç—å –∏—Ö –ø–æ—Ç–µ—Ä–∏ –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ, –∞ —Ç–∞–∫–∂–µ —É—Å–∫–æ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –∞–¥–º–∏–Ω–∫–∏.
- **Rate limiting –∏ –æ—á–µ—Ä–µ–¥–µ–π.** Redis —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –±—É–¥—É—â–∏—Ö middleware –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
  –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å—Å—ã–ª–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–∫—É–ø–∫–∞—Ö).

–ï—Å–ª–∏ –≤–∞–º –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π, —Å–µ—Ä–≤–∏—Å Redis –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å, —É–±—Ä–∞–≤ –µ–≥–æ
–∏–∑ `docker-compose.yml` –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `REDIS_*` –∏–∑ `.env`, –æ–¥–Ω–∞–∫–æ –¥–ª—è production-—Å—Ä–µ–¥—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
–æ—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –∞–∫—Ç–∏–≤–Ω—ã–º.

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è S3 –±–∞–∫–µ—Ç–æ–≤

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
docker compose exec minio mc alias set local http://localhost:9000 $MINIO_ACCESS_KEY $MINIO_SECRET_KEY
docker compose exec minio mc mb -p local/$MINIO_BUCKET_PUBLIC
docker compose exec minio mc mb -p local/$MINIO_BUCKET_PRIVATE
```

## –ö–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ Strapi

- **Pages** ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏ (JSON)
- **Projects** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏ —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ–µ–∫—Ç—ã (slug, –≥–æ–¥, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –≥–∞–ª–µ—Ä–µ—è)
- **News** ‚Äî –Ω–æ–≤–æ—Å—Ç–∏ –∏ –∞–Ω–æ–Ω—Å—ã (rich text + –æ–±–ª–æ–∂–∫–∞)
- **Documents** ‚Äî —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã –∏ –ø—É–±–ª–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã (—Ñ–∞–π–ª, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –¥–∞—Ç–∞)
- **Procurements** ‚Äî –∑–∞–∫—É–ø–∫–∏ –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (—Å—Ç–∞—Ç—É—Å, —Ç–∏–ø, –¥–∞—Ç—ã, —Ç–µ–≥–∏, —Å—Å—ã–ª–∫–∏ –ï–ò–°)

–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ä–æ–ª–∏:
- `editor` ‚Äî –º–æ–¥–µ—Ä–∏—Ä—É–µ—Ç –∏ –ø—É–±–ª–∏–∫—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç
- `manager_procurement` ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–∫—É–ø–∫–∞–º–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- `viewer` ‚Äî –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ

### Frontend
- `npm run lint` ‚Äî ESLint (Next.js –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- `npm run test` ‚Äî –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è unit-—Ç–µ—Å—Ç–æ–≤ (–º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å Vitest/Jest)

### CMS
- `npm run lint` ‚Äî –ª–∏–Ω—Ç–µ—Ä Strapi
- `npm run test` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç Strapi —Ç–µ—Å—Ç—ã (–ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Jest)

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¢–ó
- –§–∞–π–ª—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–æ–≤–µ—Ä–∫—É ClamAV (–¥–æ–±–∞–≤–∏—Ç—å –≤ pipeline —Å –ø–æ–º–æ—â—å—é `clamdscan`)
- –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ URL –ï–ò–° —Å –ø–æ–º–æ—â—å—é `curl --head` –∏–ª–∏ `fetch` –≤ Strapi lifecycle hooks
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ–æ—Ä–º—ã –Ω–∞ XSS/SQLi –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–æ–ª–µ–π (`users-permissions`)

## –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–µ–ø–ª–æ—è

1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ `docker compose build` –≤ CI, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –æ–±—Ä–∞–∑–æ–≤.
2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Strapi (`npm run build && npm run start` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è—Ç –∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:
   - PostgreSQL ‚Äî `pg_dump` –ø–æ cron.
   - MinIO ‚Äî `mc mirror` –≤ –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ/–∞—Ä—Ö–∏–≤.
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ HTTPS —á–µ—Ä–µ–∑ reverse-proxy (–Ω–∞–ø—Ä–∏–º–µ—Ä, Traefik –∏–ª–∏ Nginx —Å certbot).

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç–∞–º–∏ –∑–∞–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `um=constructor:example` –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∏–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∫–∞—Ä—Ç.
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –Ω–æ–≤–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ webhook Strapi –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Mailchimp/Telegram Bot API.
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚Äî –ø–æ–¥–∫–ª—é—á–∏—Ç–µ Grafana + Prometheus –ª–∏–±–æ –æ—Ç–ø—Ä–∞–≤–∫—É –ª–æ–≥–æ–≤ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (ELK/EFK).
